$date
	Mon Jan 22 19:50:10 2024
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module processor_tb $end
$var reg 1 ! clk $end
$var reg 1 " rst $end
$var integer 32 # i [31:0] $end
$scope module P $end
$var wire 1 ! clk_in $end
$var wire 1 " rst_in $end
$var wire 1 $ stack_push $end
$var wire 1 % stack_pop $end
$var wire 1 & stack_full $end
$var wire 1 ' stack_empty $end
$var wire 1 ( rst_id $end
$var wire 24 ) rom_data [23:0] $end
$var wire 1 * rf_en $end
$var wire 16 + ret_addr [15:0] $end
$var wire 16 , reg_out [15:0] $end
$var wire 1 - r_or_w $end
$var wire 16 . pc_bits [15:0] $end
$var wire 8 / op [7:0] $end
$var wire 16 0 mux_out [15:0] $end
$var wire 1 1 ldi $end
$var wire 1 2 jmp_en $end
$var wire 1 3 alu_overflow $end
$var wire 16 4 alu_out [15:0] $end
$var wire 1 5 acu_zero $end
$var wire 16 6 acu_out [15:0] $end
$var wire 1 7 acu_en $end
$var reg 16 8 out [15:0] $end
$var reg 1 9 rst $end
$scope module Accumulator $end
$var wire 1 ! clk $end
$var wire 16 : in [15:0] $end
$var wire 1 7 ce $end
$var parameter 32 ; WIDTH $end
$var reg 16 < out [15:0] $end
$var reg 1 5 zero $end
$upscope $end
$scope module Alu $end
$var wire 1 = funct $end
$var wire 8 > op [7:0] $end
$var wire 16 ? in2 [15:0] $end
$var wire 16 @ in1 [15:0] $end
$var parameter 32 A WIDTH $end
$var reg 16 B out [15:0] $end
$var reg 1 3 overflow $end
$upscope $end
$scope module InstructionDecoder $end
$var wire 1 5 acu_zero $end
$var wire 8 C instr [7:0] $end
$var wire 2 D stack_flags [1:0] $end
$var reg 1 7 acu_en $end
$var reg 1 2 jmp_en $end
$var reg 1 1 ldi $end
$var reg 8 E op [7:0] $end
$var reg 1 - r_or_w $end
$var reg 1 * rf_en $end
$var reg 1 ( rst $end
$var reg 2 F stack_control [1:0] $end
$upscope $end
$scope module Mux $end
$var wire 16 G in1 [15:0] $end
$var wire 16 H in2 [15:0] $end
$var wire 1 1 sel $end
$var parameter 32 I WIDTH $end
$var reg 16 J out [15:0] $end
$upscope $end
$scope module ProgramCounter $end
$var wire 1 ! clk $end
$var wire 16 K jmp_addr [15:0] $end
$var wire 1 2 jmp_en $end
$var wire 1 9 rst $end
$var reg 16 L pc [15:0] $end
$upscope $end
$scope module Registers $end
$var wire 1 ! clk $end
$var wire 1 * en $end
$var wire 16 M in [15:0] $end
$var wire 1 - r_or_w $end
$var wire 16 N reg_addr [15:0] $end
$var parameter 32 O REG_NUM $end
$var parameter 32 P WIDTH $end
$var reg 16 Q out [15:0] $end
$upscope $end
$scope module Rom $end
$var wire 16 R addr [15:0] $end
$var parameter 32 S RAM_ADDR_BITS $end
$var parameter 32 T RAM_WORD_WIDTH $end
$var reg 24 U data [23:0] $end
$upscope $end
$scope module Stack $end
$var wire 1 ! clk $end
$var wire 16 V data_in [15:0] $end
$var wire 1 % pop $end
$var wire 1 $ push $end
$var wire 1 9 rst $end
$var wire 16 W data_out [15:0] $end
$var parameter 32 X DEPTH $end
$var parameter 32 Y WIDTH $end
$var reg 1 ' empty $end
$var reg 1 & full $end
$var reg 3 Z top [2:0] $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b10000 Y
b1000 X
b11000 T
b100 S
b10000 P
b10000 O
b10000 I
b10000 A
b10000 ;
$end
#0
$dumpvars
b0 Z
bz W
b0 V
b100010000000000000000 U
b0 R
bz Q
bz N
b0 M
b0 L
bz K
b0 J
b0 H
b0 G
b0 F
b10001 E
b1 D
b10001 C
b0 B
b0 @
bz ?
b10001 >
z=
b0 <
b0 :
09
b0 8
07
b0 6
05
b0 4
x3
02
01
b0 0
b10001 /
b0 .
0-
bz ,
bz +
0*
b100010000000000000000 )
0(
1'
0&
0%
0$
b0 #
0"
1!
$end
#1000
b1010 K
1$
12
b10 F
b1100 /
b1100 >
b1100 E
b1010 H
b1100 C
b11000000000000001010 )
b11000000000000001010 U
b1 .
b1 L
b1 R
b1 V
b1 #
0!
#2000
b10 #
1!
#3000
b101 8
b101 4
b101 :
b101 B
b101 0
b101 @
b101 J
0$
11
17
02
b0 F
b10000 /
b10000 >
b10000 E
bz K
b101 H
b10000 C
b100000000000000000101 )
b100000000000000000101 U
b1 +
b1 W
b1010 .
b1010 L
b1010 R
b1010 V
b0 D
0'
b1 Z
b11 #
0!
#4000
b100 #
1!
#5000
b1 N
b101 0
b101 @
b101 J
01
1-
1*
07
b1111 /
b1111 >
b1111 E
b1 H
b1111 C
b11110000000000000001 )
b11110000000000000001 U
b1011 .
b1011 L
b1011 R
b1011 V
b101 6
b101 <
b101 G
b101 M
b101 #
0!
#6000
b110 #
1!
#7000
b11 8
b11 4
b11 :
b11 B
b11 0
b11 @
b11 J
11
0-
0*
17
b10000 /
b10000 >
b10000 E
bz N
b11 H
b10000 C
b100000000000000000011 )
b100000000000000000011 U
b1100 .
b1100 L
b1100 R
b1100 V
b111 #
0!
#8000
b1000 #
1!
#9000
bx 8
bx 4
bx :
bx B
b1 N
b11 0
b11 @
b11 J
01
1*
b101 /
b101 >
b101 E
b1 H
b101 C
b1010000000000000001 )
b1010000000000000001 U
b1101 .
b1101 L
b1101 R
b1101 V
b11 6
b11 <
b11 G
b11 M
b1001 #
0!
#10000
b1010 #
1!
#11000
1-
07
b1111 /
b1111 >
b1111 E
bx 8
b10 N
b10 H
b1111 C
bx 4
bx :
bx B
bx 0
bx @
bx J
b11110000000000000010 )
b11110000000000000010 U
b101 ,
b101 ?
b101 Q
x5
bx 6
bx <
bx G
bx M
b1110 .
b1110 L
b1110 R
b1110 V
b1011 #
0!
#12000
b1100 #
1!
#13000
b10 K
1%
0-
0*
12
b1 F
b1101 /
b1101 >
b1101 E
bz N
b0 H
b1101 C
b11010000000000000000 )
b11010000000000000000 U
b1111 .
b1111 L
b1111 R
b1111 V
bz ,
bz ?
bz Q
b1101 #
0!
#14000
b1110 #
1!
#15000
bz 8
bz 4
bz :
bz B
b10 N
1*
17
02
b1110 /
b1110 >
b1110 E
b10 H
b1110 C
0%
b11100000000000000010 )
b11100000000000000010 U
b0 F
b10 .
b10 L
b10 R
b10 V
b1 D
1'
bz K
bz +
bz W
b0 Z
b1111 #
0!
#16000
b10000 #
1!
#17000
19
1(
0*
07
b10010 /
b10010 >
b10010 E
b0 8
bz N
bx H
bx C
bx )
bx U
bz 0
bz @
bz J
b0 4
b0 :
b0 B
b11 .
b11 L
b11 R
b11 V
bz 6
bz <
bz G
bz M
bx ,
bx ?
bx Q
b10001 #
0!
#18000
b10010 #
1!
#19000
09
0(
b10001 /
b10001 >
b10001 E
b0 H
b10001 C
b100010000000000000000 )
b100010000000000000000 U
bz ,
bz ?
bz Q
b0 .
b0 L
b0 R
b0 V
b10011 #
0!
#20000
b10100 #
1!
#21000
b1010 K
1$
12
b10 F
b1100 /
b1100 >
b1100 E
b1010 H
b1100 C
b11000000000000001010 )
b11000000000000001010 U
b1 .
b1 L
b1 R
b1 V
b10101 #
0!
#22000
b10110 #
1!
#23000
b101 8
b101 0
b101 @
b101 J
b101 4
b101 :
b101 B
0$
11
17
02
b0 F
b10000 /
b10000 >
b10000 E
bz K
b101 H
b10000 C
b100000000000000000101 )
b100000000000000000101 U
b1 +
b1 W
b1010 .
b1010 L
b1010 R
b1010 V
b0 D
0'
b1 Z
b10111 #
0!
#24000
b11000 #
1!
#25000
b1 N
b101 0
b101 @
b101 J
01
1-
1*
07
b1111 /
b1111 >
b1111 E
b1 H
b1111 C
b11110000000000000001 )
b11110000000000000001 U
b1011 .
b1011 L
b1011 R
b1011 V
05
b101 6
b101 <
b101 G
b101 M
b11001 #
0!
#26000
b11010 #
1!
#27000
b11 8
b11 4
b11 :
b11 B
b11 0
b11 @
b11 J
11
0-
0*
17
b10000 /
b10000 >
b10000 E
bz N
b11 H
b10000 C
b100000000000000000011 )
b100000000000000000011 U
b1100 .
b1100 L
b1100 R
b1100 V
b11011 #
0!
#28000
b11100 #
1!
#29000
bx 8
bx 4
bx :
bx B
b1 N
b11 0
b11 @
b11 J
01
1*
b101 /
b101 >
b101 E
b1 H
b101 C
b1010000000000000001 )
b1010000000000000001 U
b1101 .
b1101 L
b1101 R
b1101 V
b11 6
b11 <
b11 G
b11 M
b11101 #
0!
#30000
b11110 #
1!
#31000
1-
07
b1111 /
b1111 >
b1111 E
bx 8
b10 N
b10 H
b1111 C
bx 4
bx :
bx B
bx 0
bx @
bx J
b11110000000000000010 )
b11110000000000000010 U
b101 ,
b101 ?
b101 Q
x5
bx 6
bx <
bx G
bx M
b1110 .
b1110 L
b1110 R
b1110 V
b11111 #
0!
#32000
b100000 #
1!
#33000
b10 K
1%
0-
0*
12
b1 F
b1101 /
b1101 >
b1101 E
bz N
b0 H
b1101 C
b11010000000000000000 )
b11010000000000000000 U
b1111 .
b1111 L
b1111 R
b1111 V
bz ,
bz ?
bz Q
b100001 #
0!
#34000
b100010 #
1!
#35000
bz 8
bz 4
bz :
bz B
b10 N
1*
17
02
b1110 /
b1110 >
b1110 E
b10 H
b1110 C
0%
b11100000000000000010 )
b11100000000000000010 U
b0 F
b10 .
b10 L
b10 R
b10 V
b1 D
1'
bz K
bz +
bz W
b0 Z
b100011 #
0!
#36000
b100100 #
1!
#37000
19
1(
0*
07
b10010 /
b10010 >
b10010 E
b0 8
bz N
bx H
bx C
bx )
bx U
bz 0
bz @
bz J
b0 4
b0 :
b0 B
b11 .
b11 L
b11 R
b11 V
bz 6
bz <
bz G
bz M
bx ,
bx ?
bx Q
b100101 #
0!
#38000
b100110 #
1!
#39000
09
0(
b10001 /
b10001 >
b10001 E
b0 H
b10001 C
b100010000000000000000 )
b100010000000000000000 U
bz ,
bz ?
bz Q
b0 .
b0 L
b0 R
b0 V
b100111 #
0!
#40000
b101000 #
1!
#41000
b1010 K
1$
12
b10 F
b1100 /
b1100 >
b1100 E
b1010 H
b1100 C
b11000000000000001010 )
b11000000000000001010 U
b1 .
b1 L
b1 R
b1 V
b101001 #
0!
#42000
b101010 #
1!
#43000
b101 8
b101 0
b101 @
b101 J
b101 4
b101 :
b101 B
0$
11
17
02
b0 F
b10000 /
b10000 >
b10000 E
bz K
b101 H
b10000 C
b100000000000000000101 )
b100000000000000000101 U
b1 +
b1 W
b1010 .
b1010 L
b1010 R
b1010 V
b0 D
0'
b1 Z
b101011 #
0!
#44000
b101100 #
1!
#45000
b1 N
b101 0
b101 @
b101 J
01
1-
1*
07
b1111 /
b1111 >
b1111 E
b1 H
b1111 C
b11110000000000000001 )
b11110000000000000001 U
b1011 .
b1011 L
b1011 R
b1011 V
05
b101 6
b101 <
b101 G
b101 M
b101101 #
0!
#46000
b101110 #
1!
#47000
b11 8
b11 4
b11 :
b11 B
b11 0
b11 @
b11 J
11
0-
0*
17
b10000 /
b10000 >
b10000 E
bz N
b11 H
b10000 C
b100000000000000000011 )
b100000000000000000011 U
b1100 .
b1100 L
b1100 R
b1100 V
b101111 #
0!
#48000
b110000 #
1!
#49000
bx 8
bx 4
bx :
bx B
b1 N
b11 0
b11 @
b11 J
01
1*
b101 /
b101 >
b101 E
b1 H
b101 C
b1010000000000000001 )
b1010000000000000001 U
b1101 .
b1101 L
b1101 R
b1101 V
b11 6
b11 <
b11 G
b11 M
b110001 #
0!
#50000
b110010 #
1!
#51000
1-
07
b1111 /
b1111 >
b1111 E
bx 8
b10 N
b10 H
b1111 C
bx 4
bx :
bx B
bx 0
bx @
bx J
b11110000000000000010 )
b11110000000000000010 U
b101 ,
b101 ?
b101 Q
x5
bx 6
bx <
bx G
bx M
b1110 .
b1110 L
b1110 R
b1110 V
b110011 #
0!
#52000
b110100 #
1!
#53000
b10 K
1%
0-
0*
12
b1 F
b1101 /
b1101 >
b1101 E
bz N
b0 H
b1101 C
b11010000000000000000 )
b11010000000000000000 U
b1111 .
b1111 L
b1111 R
b1111 V
bz ,
bz ?
bz Q
b110101 #
0!
#54000
b110110 #
1!
#55000
bz 8
bz 4
bz :
bz B
b10 N
1*
17
02
b1110 /
b1110 >
b1110 E
b10 H
b1110 C
0%
b11100000000000000010 )
b11100000000000000010 U
b0 F
b10 .
b10 L
b10 R
b10 V
b1 D
1'
bz K
bz +
bz W
b0 Z
b110111 #
0!
#56000
b111000 #
1!
#57000
19
1(
0*
07
b10010 /
b10010 >
b10010 E
b0 8
bz N
bx H
bx C
bx )
bx U
bz 0
bz @
bz J
b0 4
b0 :
b0 B
b11 .
b11 L
b11 R
b11 V
bz 6
bz <
bz G
bz M
bx ,
bx ?
bx Q
b111001 #
0!
#58000
b111010 #
1!
#59000
09
0(
b10001 /
b10001 >
b10001 E
b0 H
b10001 C
b100010000000000000000 )
b100010000000000000000 U
bz ,
bz ?
bz Q
b0 .
b0 L
b0 R
b0 V
b111011 #
0!
#60000
b111100 #
1!
#61000
b1010 K
1$
12
b10 F
b1100 /
b1100 >
b1100 E
b1010 H
b1100 C
b11000000000000001010 )
b11000000000000001010 U
b1 .
b1 L
b1 R
b1 V
b111101 #
0!
#62000
b111110 #
1!
#63000
b101 8
b101 0
b101 @
b101 J
b101 4
b101 :
b101 B
0$
11
17
02
b0 F
b10000 /
b10000 >
b10000 E
bz K
b101 H
b10000 C
b100000000000000000101 )
b100000000000000000101 U
b1 +
b1 W
b1010 .
b1010 L
b1010 R
b1010 V
b0 D
0'
b1 Z
b111111 #
0!
#64000
b1000000 #
1!
#65000
b1 N
b101 0
b101 @
b101 J
01
1-
1*
07
b1111 /
b1111 >
b1111 E
b1 H
b1111 C
b11110000000000000001 )
b11110000000000000001 U
b1011 .
b1011 L
b1011 R
b1011 V
05
b101 6
b101 <
b101 G
b101 M
b1000001 #
0!
#66000
b1000010 #
1!
#67000
b11 8
b11 4
b11 :
b11 B
b11 0
b11 @
b11 J
11
0-
0*
17
b10000 /
b10000 >
b10000 E
bz N
b11 H
b10000 C
b100000000000000000011 )
b100000000000000000011 U
b1100 .
b1100 L
b1100 R
b1100 V
b1000011 #
0!
#68000
b1000100 #
1!
#69000
bx 8
bx 4
bx :
bx B
b1 N
b11 0
b11 @
b11 J
01
1*
b101 /
b101 >
b101 E
b1 H
b101 C
b1010000000000000001 )
b1010000000000000001 U
b1101 .
b1101 L
b1101 R
b1101 V
b11 6
b11 <
b11 G
b11 M
b1000101 #
0!
#70000
b1000110 #
1!
#71000
1-
07
b1111 /
b1111 >
b1111 E
bx 8
b10 N
b10 H
b1111 C
bx 4
bx :
bx B
bx 0
bx @
bx J
b11110000000000000010 )
b11110000000000000010 U
b101 ,
b101 ?
b101 Q
x5
bx 6
bx <
bx G
bx M
b1110 .
b1110 L
b1110 R
b1110 V
b1000111 #
0!
#72000
b1001000 #
1!
#73000
b10 K
1%
0-
0*
12
b1 F
b1101 /
b1101 >
b1101 E
bz N
b0 H
b1101 C
b11010000000000000000 )
b11010000000000000000 U
b1111 .
b1111 L
b1111 R
b1111 V
bz ,
bz ?
bz Q
b1001001 #
0!
#74000
b1001010 #
1!
#75000
bz 8
bz 4
bz :
bz B
b10 N
1*
17
02
b1110 /
b1110 >
b1110 E
b10 H
b1110 C
0%
b11100000000000000010 )
b11100000000000000010 U
b0 F
b10 .
b10 L
b10 R
b10 V
b1 D
1'
bz K
bz +
bz W
b0 Z
b1001011 #
0!
#76000
b1001100 #
1!
#77000
19
1(
0*
07
b10010 /
b10010 >
b10010 E
b0 8
bz N
bx H
bx C
bx )
bx U
bz 0
bz @
bz J
b0 4
b0 :
b0 B
b11 .
b11 L
b11 R
b11 V
bz 6
bz <
bz G
bz M
bx ,
bx ?
bx Q
b1001101 #
0!
#78000
b1001110 #
1!
#79000
09
0(
b10001 /
b10001 >
b10001 E
b0 H
b10001 C
b100010000000000000000 )
b100010000000000000000 U
bz ,
bz ?
bz Q
b0 .
b0 L
b0 R
b0 V
b1001111 #
0!
#80000
b1010000 #
1!
#81000
b1010 K
1$
12
b10 F
b1100 /
b1100 >
b1100 E
b1010 H
b1100 C
b11000000000000001010 )
b11000000000000001010 U
b1 .
b1 L
b1 R
b1 V
b1010001 #
0!
#82000
b1010010 #
1!
#83000
b101 8
b101 0
b101 @
b101 J
b101 4
b101 :
b101 B
0$
11
17
02
b0 F
b10000 /
b10000 >
b10000 E
bz K
b101 H
b10000 C
b100000000000000000101 )
b100000000000000000101 U
b1 +
b1 W
b1010 .
b1010 L
b1010 R
b1010 V
b0 D
0'
b1 Z
b1010011 #
0!
#84000
b1010100 #
1!
#85000
b1 N
b101 0
b101 @
b101 J
01
1-
1*
07
b1111 /
b1111 >
b1111 E
b1 H
b1111 C
b11110000000000000001 )
b11110000000000000001 U
b1011 .
b1011 L
b1011 R
b1011 V
05
b101 6
b101 <
b101 G
b101 M
b1010101 #
0!
#86000
b1010110 #
1!
#87000
b11 8
b11 4
b11 :
b11 B
b11 0
b11 @
b11 J
11
0-
0*
17
b10000 /
b10000 >
b10000 E
bz N
b11 H
b10000 C
b100000000000000000011 )
b100000000000000000011 U
b1100 .
b1100 L
b1100 R
b1100 V
b1010111 #
0!
#88000
b1011000 #
1!
#89000
bx 8
bx 4
bx :
bx B
b1 N
b11 0
b11 @
b11 J
01
1*
b101 /
b101 >
b101 E
b1 H
b101 C
b1010000000000000001 )
b1010000000000000001 U
b1101 .
b1101 L
b1101 R
b1101 V
b11 6
b11 <
b11 G
b11 M
b1011001 #
0!
#90000
b1011010 #
1!
#91000
1-
07
b1111 /
b1111 >
b1111 E
bx 8
b10 N
b10 H
b1111 C
bx 4
bx :
bx B
bx 0
bx @
bx J
b11110000000000000010 )
b11110000000000000010 U
b101 ,
b101 ?
b101 Q
x5
bx 6
bx <
bx G
bx M
b1110 .
b1110 L
b1110 R
b1110 V
b1011011 #
0!
#92000
b1011100 #
1!
#93000
b10 K
1%
0-
0*
12
b1 F
b1101 /
b1101 >
b1101 E
bz N
b0 H
b1101 C
b11010000000000000000 )
b11010000000000000000 U
b1111 .
b1111 L
b1111 R
b1111 V
bz ,
bz ?
bz Q
b1011101 #
0!
#94000
b1011110 #
1!
#95000
bz 8
bz 4
bz :
bz B
b10 N
1*
17
02
b1110 /
b1110 >
b1110 E
b10 H
b1110 C
0%
b11100000000000000010 )
b11100000000000000010 U
b0 F
b10 .
b10 L
b10 R
b10 V
b1 D
1'
bz K
bz +
bz W
b0 Z
b1011111 #
0!
#96000
b1100000 #
1!
#97000
19
1(
0*
07
b10010 /
b10010 >
b10010 E
b0 8
bz N
bx H
bx C
bx )
bx U
bz 0
bz @
bz J
b0 4
b0 :
b0 B
b11 .
b11 L
b11 R
b11 V
bz 6
bz <
bz G
bz M
bx ,
bx ?
bx Q
b1100001 #
0!
#98000
b1100010 #
1!
#99000
09
0(
b10001 /
b10001 >
b10001 E
b0 H
b10001 C
b100010000000000000000 )
b100010000000000000000 U
bz ,
bz ?
bz Q
b0 .
b0 L
b0 R
b0 V
b1100011 #
0!
#100000
b1100100 #
1!
#101000
19
1"
#102000
09
0"
